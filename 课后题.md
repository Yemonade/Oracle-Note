#### 2. 4 执行SQL查询语句的步骤

SQL语句的执行主要由用户进程与服务器进程来完成的，其他的一些进程可能要辅助完成这一过程。查询语句与其他的SQL语句有所不同，如果一个查询语句执行成功，就要返回查询的结果，而其他的SQL语句只是返回执行成功或失败的信息。

查询语句的处理主要包括：编译（parse）、执行（execute）和提取数据（fetch）。
1.编译：在进行编译时，服务器进程会将SQL语句的正文放入共享池（shared pool）的库高速缓存（library cache）中并将完成以下处理：

- 首先在共享池中搜索是否有相同的SQL语句，如果没有就进行后续的处理；

- 检查该SQL语句的语法是否正确

- 通过查看数据字典来检查表和列的定义；

- 对所操作的对象加编译锁（parse locks），以便在编译语句期间这些对象的定义不能被改变；

- 检查所引用对象的用户权限；

- 生成执行该SQL语句的所需的优化的执行计划（执行步骤）；

- 将SQL语句和执行计划装入共享的SQL区。

  

以上的每一步操作都是在处理正确时才进行后续的处理，如果不正确，就返回错误。

2. 执行（execute）：Oracle服务器进程开始执行SQL语句是因为它已获得了执行SQL语句所需的全部资源和信息。
3.提取数据（fetch）：Oracle服务器进程选择所需的数据行，并在需要时将其排序，最后将结果返回给用户进程。

